# intelligentCustomerSystem

## 1 Introduction
To a certain extend, the development of intelligent customer service system reduces the work intensity of human customer service. In particular, intelligent dialogue robot shares a large part of the consulting work of human customer service. With the demand of improving customer experience from the customers, it’s very critical for the study in intelligent dialogue robot and data processing speed of intelligent customer service system. 
At present, most users think that the intelligent customer service system can not well meet these needs. There are still some problems in the systems, such as simple way of communication, hinder the conversion to manual customer service. From the point of view of the enterprise, the contradiction of customer service business from the customer service ability is insufficient to the intelligent customer service experience is not good. However, most managers believe is due to the poor data timeliness. Currently, most data warehouse models used in enterprises have a one-day delay, so the managers cannot timely find the defects of robot speech way and the problems of high pressure of human sitting. 
The study adopts the object-oriented method to design and develop the intelligent customer service system. It adopts the Django and MySQL to realize backend framework and establishment of the database, utilizes the method of machine learning to complete intelligent dialogue robot training, realizing the function of browsing - man-machine dialogue - artificial request - service business processes in the intelligent customer service system. Based on the establishment of the intelligent customer service system, the study adopts the Flink platform and data warehouse to complete the processing of the data index system and display it on the real-time data panel and offline data panel of the management end. The system uses Flink platform, so the delay of real-time data can be controlled in seconds, which can meet the needs of data timeliness. Then, managers can have real-time insight into requests, customer service load, robot usage, satisfaction evaluation and other situations in the intelligent customer service system through the data indicator system. The intelligent customer service system built in this study can meet the basic goal of convenient operation for users and customer service, and also meet the goal of assisting management to view data in real time, adjust and make decisions.

智能客服系统的开发在一定程度上降低了人工客服的工作强度。特别是智能对话机器人分担了人类客服咨询工作的很大一部分。随着客户对提升客户体验的需求，智能对话机器人和智能客服系统数据处理速度的研究显得尤为重要。
目前，大多数用户认为智能客服系统不能很好地满足这些需求。系统中还存在沟通方式简单等问题，阻碍了人工客服的转化。从企业的角度来看，客户服务业务的矛盾从客户服务能力不足到智能客户服务体验不好。然而，大多数管理者认为，这是由于数据时效性差。目前企业使用的数据仓库模型大多有一天的延迟，管理者无法及时发现机器人语音方式的缺陷和人坐的压力大的问题。
本研究采用面向对象的方法设计开发智能客户服务系统。采用Django和MySQL实现后端框架和数据库的建立，利用机器学习的方法完成智能对话机器人训练，实现智能客服系统中浏览-人机对话-人工请求-服务业务流程的功能。本研究在建立智能客服系统的基础上，采用Flink平台和数据仓库完成数据指标体系的处理，并将其显示在管理端实时数据面板和离线数据面板上。该系统采用Flink平台，实时数据延迟可控制在秒级，满足了数据实时性的要求。然后，管理者可以通过数据指标体系实时洞察智能客服系统中的请求、客服负荷、机器人使用、满意度评价等情况。本研究构建的智能客服系统既能满足用户和客服方便操作的基本目标，又能满足协助管理层实时查看数据、调整决策的目标。

## 2 System analysis and design

### 2.1 System use case diagrams
<img width="435" alt="image" src="https://user-images.githubusercontent.com/67220802/178380869-68845b32-86e9-4158-a6da-c6f9e7923073.png">

### 2.2 System analysis class diagram
<img width="433" alt="image" src="https://user-images.githubusercontent.com/67220802/178380909-bd7916f5-75eb-4a81-8ca4-63d540691aaf.png">

### 2.3 Data processing pipeline
<img width="437" alt="image" src="https://user-images.githubusercontent.com/67220802/178380966-9ea5f655-2dd6-431d-9888-3127bfdcee9f.png">

The system data source in the figure below is server-side design, which is based on local development of the server. It includes account management subsystem, customer service management subsystem, machine session subsystem, man-machine session subsystem, commodity management subsystem and intelligent decision subsystem. These six subsystems constitute the main operations of the intelligent customer service system and are the producers of the system data sources.
The data access layer includes MySQL locally and Kafka on the cloud. The local MySQL is mainly used to store important data with a small amount of data, such as customer service information, user account and password information. This information is stored locally to quickly respond to system interactions and to protect sensitive data. Ali Cloud's Kafka uploads a large amount of conversation data generated by intelligent customer service systems to Ali Cloud servers for processing. In this way, the distributed cluster can be used to build data warehouse, and achieve the purpose of low cost and fast data processing.
Data processing layer is based on Ali Cloud Flink and DataWorks to build real-time and offline data warehouse. The DWD layer is used to process and store detailed data. The system contains two detailed data of dialogue dimension and session dimension. DWS layer is used to store summary data by dimension. This system contains two summary data of dialogue dimension and session dimension. The ADS layer is used to output processed data to the consumer.
The data service layer encapsulates the data indexes processed by the data warehouse into services and provides them to the data consuming end. In this system, the OpenAPI of Ali Cloud is used to return data indicators to the intelligent decision subsystem in the form of API. Therefore, real-time data large screen and offline data large screen in intelligent decision system are provided to decision makers.
The advantages of adopting this design are:
1. Easy expansion: You can purchase cloud computing and storage resources at any time according to service requirements to quickly adapt to service expansion.
2. Low cost: Compared with self-built clusters of highly stable, highly concurrent, and highly available computers, cloud computing resources are cheaper.
3. High data timeliness: Cloud processing of non-sensitive data with large processing needs can ensure output production speed and disaster recovery.
4. High data security: Sensitive data is stored locally to prevent data leakage.

下图中系统数据源是服务端设计，该部分是基于服务器进行本地开发。包括账号管理子系统、客服管理子系统、机器会话子系统、人机会话子系统、商品管理子系统和智能决策子系统。这六大子系统构成了智能客服系统的主要操作，是系统数据源的生产者。
数据接入层包括本地的MySQL和云上的kafka。本地的MySQL主要用来存储数据量不大且比较重要的数据，如客服信息、用户账号密码信息等。这些信息在本地存储能快速响应系统交互，并且能保护敏感数据的安全性。阿里云的kafka将智能客服系统产生的大量对话数据上传到阿里云服务器上处理。这样能够利用分布式集群构建数据仓库，达到低成本、快速处理数据的目的。
数据加工层是基于阿里云的Flink和DataWorks构建实时和离线数仓。其中DWD层用来处理和存储明细数据，本系统中包含对话维度和会话维度两种明细数据；DWS层用来存储按维度汇总数据，本系统中包含对话维度和会话维度两种汇总数据；ADS层用来将加工好的数据输出到消费端。
数据服务层是将数据仓库加工出来的数据指标封装成服务提供给数据消费端。在本系统中，采用阿里云的OpenAPI将数据指标已API的形式返回到智能决策子系统中。因此向决策者提供了智能决策系统中的实时数据大屏和离线数据大屏。
采用这种设计的好处在于：
1.	易拓展：可以根据业务需求随时购买云计算、存储资源，快速适应业务膨胀。
2.	成本低：相比于自建高稳定、高并发、高可用计算机集群，云计算资源更加便宜。
3.	数据时效性高：处理需求大且非敏感数据进行云上加工，能够保证输出生产速度和容灾。
4.	数据安全性高：敏感数据仅存储在本地，可以保证用户数据不被泄漏。

### 2.4 Design class diagram

<img width="572" alt="image" src="https://user-images.githubusercontent.com/67220802/178381170-663a614b-b09b-4d58-94a5-63940179cf7a.png">

### 2.5 Database structure design
<img width="611" alt="image" src="https://user-images.githubusercontent.com/67220802/178381239-ecd95d79-28e1-4717-ab3e-280a9e06e32e.png">

## 3 System implementation

### 3.1 System development environment

![image](https://user-images.githubusercontent.com/67220802/178381531-bdefd97c-aecb-413e-bc97-120256db1328.png)

### 3.2 interface

<img width="440" alt="image" src="https://user-images.githubusercontent.com/67220802/178381642-ba3ce68d-5ef4-4198-a576-6e8a16be12c5.png">

<img width="440" alt="image" src="https://user-images.githubusercontent.com/67220802/178381695-bc0a5130-e969-4748-9d99-ed31fcc8e590.png">

<img width="561" alt="image" src="https://user-images.githubusercontent.com/67220802/178381772-8cd6a73c-c282-4eb8-b57a-fc6d1771a617.png">

<img width="564" alt="image" src="https://user-images.githubusercontent.com/67220802/178381933-30d6b548-24fd-4637-99d4-df32f54a99ab.png">

<img width="559" alt="image" src="https://user-images.githubusercontent.com/67220802/178382199-874af2d3-1156-4cf1-b5c4-db7f823e9daf.png">

<img width="447" alt="image" src="https://user-images.githubusercontent.com/67220802/178382295-24d64e96-c530-4acd-a755-753521156c0e.png">

<img width="439" alt="image" src="https://user-images.githubusercontent.com/67220802/178382392-5694d1b9-5982-4c34-8e35-2c4ae4eeceeb.png">

<img width="443" alt="image" src="https://user-images.githubusercontent.com/67220802/178382440-3818570c-c441-44f8-873c-05129f607103.png">

<img width="443" alt="image" src="https://user-images.githubusercontent.com/67220802/178382472-edcd65b0-b0cf-4c20-9c6e-d11a3bd19c28.png">



## 4 Summary

This system is the author's graduation program. Some content needs to be hidden during the upload process

1. Hide the logo used in the development interface and replace it with a blank picture. Therefore, the overall aesthetic of the interface will be affected.

2. The Information about the CONFIGURATION AK of the Ari cloud is hidden.

本系统是作者的毕设 程序。在进行上传过程中需要对一些内容进行隐藏 

1. 隐藏了开发界面中使用的logo，替换为空白图片。因此会影响界面的整体美感。 

2. 隐藏了阿里云配置AK等信息。


